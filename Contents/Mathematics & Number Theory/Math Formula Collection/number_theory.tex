\begin{align*}
&\textbf{Fermat's Little Theorem:} \\
&a^{p-1} \equiv 1 \pmod{p} \quad (\gcd(a,p)=1,\; p \text{ prime}) \\
&\textbf{Euler's Theorem:} \\
&a^{\varphi(n)} \equiv 1 \pmod{n} \quad (\gcd(a,n)=1) \\
&\textbf{Modular Inverse:} \\
& a^{-1} \equiv a^{p-2} \pmod{p} \quad (\gcd(a,p)=1,\; p \text{ prime}) \\
&\textbf{Euler Totient:} \\
& \varphi(n) = n \prod_{p \mid n} \left(1-\frac{1}{p}\right)
\end{align*}

\noindent
\textbf{Fast Modular Exponentiation}
\begin{lstlisting}[language=C++,numbers=none]
long long mod_pow(long long a, long long b, long long mod) {
    long long res = 1 % mod;
    while (b > 0) {
        if (b & 1) res = res * a % mod;
        a = a * a % mod;
        b >>= 1;
    }
    return res;
}
\end{lstlisting}

\noindent
\textbf{Counting Coprimes Below $n$}
\[
\forall n>0,\quad \sum_{d \mid n} \varphi(d) = n,\qquad
\sum_{d \mid n} \mu(d) \left\lfloor \frac{n}{d} \right\rfloor = 1,
\]
其中 $\mu$ 為莫比烏斯函數；常用於反演及計算互質對數量。

\noindent
\textbf{Modulo Arithmetic Quick Facts}
\begin{align*}
(a \pm b) \bmod m &= \bigl((a \bmod m) \pm (b \bmod m)\bigr) \bmod m,\\
(ab) \bmod m &= \bigl((a \bmod m)(b \bmod m)\bigr) \bmod m,\\
(a^k) \bmod m &= \bigl((a \bmod m)^k\bigr) \bmod m,\\
(-a) \bmod m &= (m - (a \bmod m)) \bmod m.
\end{align*}
若 $\gcd(a,m)=1$，可計算乘法逆元 $a^{-1}$ 並套用 $(a/b) \bmod m \equiv a \cdot b^{-1} \bmod m$。

\noindent
\textbf{Congruence ($a \equiv b \pmod m$) Essentials}
\begin{itemize}
  \item $a \equiv b \pmod m \iff m \mid (a-b)$，同餘類以差整除判斷。
  \item $a \equiv b \pmod m \Rightarrow f(a) \equiv f(b) \pmod m$ 對所有以整數係數的多項式 $f$ 成立。
  \item 若 $a \equiv b \pmod m$ 且 $c \equiv d \pmod m$，則 $a\pm c \equiv b \pm d \pmod m$，$ac \equiv bd \pmod m$，$a^{n} \equiv b^{n} \pmod m$。
  \item 若 $\gcd(k,m)=1$ 且 $ka \equiv kb \pmod m$，可約去 $k$：$a \equiv b \pmod m$。
  \item 若 $a \equiv b \pmod m$，則 $a \equiv b \pmod d$ 對任何 $d$ 整除 $m$ 亦成立。
  \item 若 $\(d \mid a,b,m\)$，則 $\frac{a}{d} \equiv \frac{b}{d} \pmod {\frac{m}{d}}$
\end{itemize}
